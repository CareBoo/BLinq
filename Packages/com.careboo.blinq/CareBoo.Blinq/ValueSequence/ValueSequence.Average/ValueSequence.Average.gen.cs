


//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     TextTransform Packages/com.careboo.blinq/CareBoo.Blinq/ValueSequence/ValueSequence.Sum.tt
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using Unity.Burst;
using Unity.Collections;
using Unity.Jobs;
using Unity.Mathematics;
using CareBoo.Burst.Delegates;

namespace CareBoo.Blinq
{
    public static partial class Sequence
    {

        public static int Average<TSource>(
            this in ValueSequence<int, TSource> source
            )
            where TSource : struct, ISequence<int>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int<TSource> : IFunc<ValueSequence<int, TSource>, int>
            where TSource : struct, ISequence<int>
        {
            public int Invoke(ValueSequence<int, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int RunAverage<TSource>(
            this in ValueSequence<int, TSource> source
            )
            where TSource : struct, ISequence<int>
        {
            var func = ValueFunc<ValueSequence<int, TSource>, int>.New<AverageFunc_int<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int, TSource> source,
            ref NativeArray<int> output
            )
            where TSource : struct, ISequence<int>
        {
            var func = ValueFunc<ValueSequence<int, TSource>, int>.New<AverageFunc_int<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int> ScheduleAverage<TSource>(
            this in ValueSequence<int, TSource> source
            )
            where TSource : struct, ISequence<int>
        {
            var func = ValueFunc<ValueSequence<int, TSource>, int>.New<AverageFunc_int<TSource>>();
            return source.Schedule(func);
        }

        public static int Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int>
        {
            readonly ValueFunc<T, int>.Struct<TSelector> selector;

            public AverageSelectorFunc_int(ValueFunc<T, int>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int>.New(new AverageSelectorFunc_int<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int>.Struct<TSelector> selector,
            ref NativeArray<int> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int>.New(new AverageSelectorFunc_int<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int>.New(new AverageSelectorFunc_int<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int2 Average<TSource>(
            this in ValueSequence<int2, TSource> source
            )
            where TSource : struct, ISequence<int2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int2<TSource> : IFunc<ValueSequence<int2, TSource>, int2>
            where TSource : struct, ISequence<int2>
        {
            public int2 Invoke(ValueSequence<int2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int2 RunAverage<TSource>(
            this in ValueSequence<int2, TSource> source
            )
            where TSource : struct, ISequence<int2>
        {
            var func = ValueFunc<ValueSequence<int2, TSource>, int2>.New<AverageFunc_int2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int2, TSource> source,
            ref NativeArray<int2> output
            )
            where TSource : struct, ISequence<int2>
        {
            var func = ValueFunc<ValueSequence<int2, TSource>, int2>.New<AverageFunc_int2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2> ScheduleAverage<TSource>(
            this in ValueSequence<int2, TSource> source
            )
            where TSource : struct, ISequence<int2>
        {
            var func = ValueFunc<ValueSequence<int2, TSource>, int2>.New<AverageFunc_int2<TSource>>();
            return source.Schedule(func);
        }

        public static int2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2>
        {
            readonly ValueFunc<T, int2>.Struct<TSelector> selector;

            public AverageSelectorFunc_int2(ValueFunc<T, int2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2>.New(new AverageSelectorFunc_int2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2>.Struct<TSelector> selector,
            ref NativeArray<int2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2>.New(new AverageSelectorFunc_int2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2>.New(new AverageSelectorFunc_int2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int2x2 Average<TSource>(
            this in ValueSequence<int2x2, TSource> source
            )
            where TSource : struct, ISequence<int2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int2x2<TSource> : IFunc<ValueSequence<int2x2, TSource>, int2x2>
            where TSource : struct, ISequence<int2x2>
        {
            public int2x2 Invoke(ValueSequence<int2x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int2x2 RunAverage<TSource>(
            this in ValueSequence<int2x2, TSource> source
            )
            where TSource : struct, ISequence<int2x2>
        {
            var func = ValueFunc<ValueSequence<int2x2, TSource>, int2x2>.New<AverageFunc_int2x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int2x2, TSource> source,
            ref NativeArray<int2x2> output
            )
            where TSource : struct, ISequence<int2x2>
        {
            var func = ValueFunc<ValueSequence<int2x2, TSource>, int2x2>.New<AverageFunc_int2x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x2> ScheduleAverage<TSource>(
            this in ValueSequence<int2x2, TSource> source
            )
            where TSource : struct, ISequence<int2x2>
        {
            var func = ValueFunc<ValueSequence<int2x2, TSource>, int2x2>.New<AverageFunc_int2x2<TSource>>();
            return source.Schedule(func);
        }

        public static int2x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int2x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int2x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x2>
        {
            readonly ValueFunc<T, int2x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_int2x2(ValueFunc<T, int2x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int2x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int2x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x2>.New(new AverageSelectorFunc_int2x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x2>.Struct<TSelector> selector,
            ref NativeArray<int2x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x2>.New(new AverageSelectorFunc_int2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x2>.New(new AverageSelectorFunc_int2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int2x3 Average<TSource>(
            this in ValueSequence<int2x3, TSource> source
            )
            where TSource : struct, ISequence<int2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int2x3<TSource> : IFunc<ValueSequence<int2x3, TSource>, int2x3>
            where TSource : struct, ISequence<int2x3>
        {
            public int2x3 Invoke(ValueSequence<int2x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int2x3 RunAverage<TSource>(
            this in ValueSequence<int2x3, TSource> source
            )
            where TSource : struct, ISequence<int2x3>
        {
            var func = ValueFunc<ValueSequence<int2x3, TSource>, int2x3>.New<AverageFunc_int2x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int2x3, TSource> source,
            ref NativeArray<int2x3> output
            )
            where TSource : struct, ISequence<int2x3>
        {
            var func = ValueFunc<ValueSequence<int2x3, TSource>, int2x3>.New<AverageFunc_int2x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x3> ScheduleAverage<TSource>(
            this in ValueSequence<int2x3, TSource> source
            )
            where TSource : struct, ISequence<int2x3>
        {
            var func = ValueFunc<ValueSequence<int2x3, TSource>, int2x3>.New<AverageFunc_int2x3<TSource>>();
            return source.Schedule(func);
        }

        public static int2x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int2x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int2x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x3>
        {
            readonly ValueFunc<T, int2x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_int2x3(ValueFunc<T, int2x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int2x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int2x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x3>.New(new AverageSelectorFunc_int2x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x3>.Struct<TSelector> selector,
            ref NativeArray<int2x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x3>.New(new AverageSelectorFunc_int2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x3>.New(new AverageSelectorFunc_int2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int2x4 Average<TSource>(
            this in ValueSequence<int2x4, TSource> source
            )
            where TSource : struct, ISequence<int2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int2x4<TSource> : IFunc<ValueSequence<int2x4, TSource>, int2x4>
            where TSource : struct, ISequence<int2x4>
        {
            public int2x4 Invoke(ValueSequence<int2x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int2x4 RunAverage<TSource>(
            this in ValueSequence<int2x4, TSource> source
            )
            where TSource : struct, ISequence<int2x4>
        {
            var func = ValueFunc<ValueSequence<int2x4, TSource>, int2x4>.New<AverageFunc_int2x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int2x4, TSource> source,
            ref NativeArray<int2x4> output
            )
            where TSource : struct, ISequence<int2x4>
        {
            var func = ValueFunc<ValueSequence<int2x4, TSource>, int2x4>.New<AverageFunc_int2x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x4> ScheduleAverage<TSource>(
            this in ValueSequence<int2x4, TSource> source
            )
            where TSource : struct, ISequence<int2x4>
        {
            var func = ValueFunc<ValueSequence<int2x4, TSource>, int2x4>.New<AverageFunc_int2x4<TSource>>();
            return source.Schedule(func);
        }

        public static int2x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int2x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int2x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int2x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x4>
        {
            readonly ValueFunc<T, int2x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_int2x4(ValueFunc<T, int2x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int2x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int2x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x4>.New(new AverageSelectorFunc_int2x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x4>.Struct<TSelector> selector,
            ref NativeArray<int2x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x4>.New(new AverageSelectorFunc_int2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int2x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int2x4>.New(new AverageSelectorFunc_int2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int3 Average<TSource>(
            this in ValueSequence<int3, TSource> source
            )
            where TSource : struct, ISequence<int3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int3<TSource> : IFunc<ValueSequence<int3, TSource>, int3>
            where TSource : struct, ISequence<int3>
        {
            public int3 Invoke(ValueSequence<int3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int3 RunAverage<TSource>(
            this in ValueSequence<int3, TSource> source
            )
            where TSource : struct, ISequence<int3>
        {
            var func = ValueFunc<ValueSequence<int3, TSource>, int3>.New<AverageFunc_int3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int3, TSource> source,
            ref NativeArray<int3> output
            )
            where TSource : struct, ISequence<int3>
        {
            var func = ValueFunc<ValueSequence<int3, TSource>, int3>.New<AverageFunc_int3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3> ScheduleAverage<TSource>(
            this in ValueSequence<int3, TSource> source
            )
            where TSource : struct, ISequence<int3>
        {
            var func = ValueFunc<ValueSequence<int3, TSource>, int3>.New<AverageFunc_int3<TSource>>();
            return source.Schedule(func);
        }

        public static int3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3>
        {
            readonly ValueFunc<T, int3>.Struct<TSelector> selector;

            public AverageSelectorFunc_int3(ValueFunc<T, int3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3>.New(new AverageSelectorFunc_int3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3>.Struct<TSelector> selector,
            ref NativeArray<int3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3>.New(new AverageSelectorFunc_int3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3>.New(new AverageSelectorFunc_int3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int3x2 Average<TSource>(
            this in ValueSequence<int3x2, TSource> source
            )
            where TSource : struct, ISequence<int3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int3x2<TSource> : IFunc<ValueSequence<int3x2, TSource>, int3x2>
            where TSource : struct, ISequence<int3x2>
        {
            public int3x2 Invoke(ValueSequence<int3x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int3x2 RunAverage<TSource>(
            this in ValueSequence<int3x2, TSource> source
            )
            where TSource : struct, ISequence<int3x2>
        {
            var func = ValueFunc<ValueSequence<int3x2, TSource>, int3x2>.New<AverageFunc_int3x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int3x2, TSource> source,
            ref NativeArray<int3x2> output
            )
            where TSource : struct, ISequence<int3x2>
        {
            var func = ValueFunc<ValueSequence<int3x2, TSource>, int3x2>.New<AverageFunc_int3x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x2> ScheduleAverage<TSource>(
            this in ValueSequence<int3x2, TSource> source
            )
            where TSource : struct, ISequence<int3x2>
        {
            var func = ValueFunc<ValueSequence<int3x2, TSource>, int3x2>.New<AverageFunc_int3x2<TSource>>();
            return source.Schedule(func);
        }

        public static int3x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int3x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int3x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x2>
        {
            readonly ValueFunc<T, int3x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_int3x2(ValueFunc<T, int3x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int3x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int3x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x2>.New(new AverageSelectorFunc_int3x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x2>.Struct<TSelector> selector,
            ref NativeArray<int3x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x2>.New(new AverageSelectorFunc_int3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x2>.New(new AverageSelectorFunc_int3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int3x3 Average<TSource>(
            this in ValueSequence<int3x3, TSource> source
            )
            where TSource : struct, ISequence<int3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int3x3<TSource> : IFunc<ValueSequence<int3x3, TSource>, int3x3>
            where TSource : struct, ISequence<int3x3>
        {
            public int3x3 Invoke(ValueSequence<int3x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int3x3 RunAverage<TSource>(
            this in ValueSequence<int3x3, TSource> source
            )
            where TSource : struct, ISequence<int3x3>
        {
            var func = ValueFunc<ValueSequence<int3x3, TSource>, int3x3>.New<AverageFunc_int3x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int3x3, TSource> source,
            ref NativeArray<int3x3> output
            )
            where TSource : struct, ISequence<int3x3>
        {
            var func = ValueFunc<ValueSequence<int3x3, TSource>, int3x3>.New<AverageFunc_int3x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x3> ScheduleAverage<TSource>(
            this in ValueSequence<int3x3, TSource> source
            )
            where TSource : struct, ISequence<int3x3>
        {
            var func = ValueFunc<ValueSequence<int3x3, TSource>, int3x3>.New<AverageFunc_int3x3<TSource>>();
            return source.Schedule(func);
        }

        public static int3x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int3x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int3x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x3>
        {
            readonly ValueFunc<T, int3x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_int3x3(ValueFunc<T, int3x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int3x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int3x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x3>.New(new AverageSelectorFunc_int3x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x3>.Struct<TSelector> selector,
            ref NativeArray<int3x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x3>.New(new AverageSelectorFunc_int3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x3>.New(new AverageSelectorFunc_int3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int3x4 Average<TSource>(
            this in ValueSequence<int3x4, TSource> source
            )
            where TSource : struct, ISequence<int3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int3x4<TSource> : IFunc<ValueSequence<int3x4, TSource>, int3x4>
            where TSource : struct, ISequence<int3x4>
        {
            public int3x4 Invoke(ValueSequence<int3x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int3x4 RunAverage<TSource>(
            this in ValueSequence<int3x4, TSource> source
            )
            where TSource : struct, ISequence<int3x4>
        {
            var func = ValueFunc<ValueSequence<int3x4, TSource>, int3x4>.New<AverageFunc_int3x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int3x4, TSource> source,
            ref NativeArray<int3x4> output
            )
            where TSource : struct, ISequence<int3x4>
        {
            var func = ValueFunc<ValueSequence<int3x4, TSource>, int3x4>.New<AverageFunc_int3x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x4> ScheduleAverage<TSource>(
            this in ValueSequence<int3x4, TSource> source
            )
            where TSource : struct, ISequence<int3x4>
        {
            var func = ValueFunc<ValueSequence<int3x4, TSource>, int3x4>.New<AverageFunc_int3x4<TSource>>();
            return source.Schedule(func);
        }

        public static int3x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int3x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int3x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int3x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x4>
        {
            readonly ValueFunc<T, int3x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_int3x4(ValueFunc<T, int3x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int3x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int3x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x4>.New(new AverageSelectorFunc_int3x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x4>.Struct<TSelector> selector,
            ref NativeArray<int3x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x4>.New(new AverageSelectorFunc_int3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int3x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int3x4>.New(new AverageSelectorFunc_int3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int4 Average<TSource>(
            this in ValueSequence<int4, TSource> source
            )
            where TSource : struct, ISequence<int4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int4<TSource> : IFunc<ValueSequence<int4, TSource>, int4>
            where TSource : struct, ISequence<int4>
        {
            public int4 Invoke(ValueSequence<int4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int4 RunAverage<TSource>(
            this in ValueSequence<int4, TSource> source
            )
            where TSource : struct, ISequence<int4>
        {
            var func = ValueFunc<ValueSequence<int4, TSource>, int4>.New<AverageFunc_int4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int4, TSource> source,
            ref NativeArray<int4> output
            )
            where TSource : struct, ISequence<int4>
        {
            var func = ValueFunc<ValueSequence<int4, TSource>, int4>.New<AverageFunc_int4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4> ScheduleAverage<TSource>(
            this in ValueSequence<int4, TSource> source
            )
            where TSource : struct, ISequence<int4>
        {
            var func = ValueFunc<ValueSequence<int4, TSource>, int4>.New<AverageFunc_int4<TSource>>();
            return source.Schedule(func);
        }

        public static int4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4>
        {
            readonly ValueFunc<T, int4>.Struct<TSelector> selector;

            public AverageSelectorFunc_int4(ValueFunc<T, int4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4>.New(new AverageSelectorFunc_int4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4>.Struct<TSelector> selector,
            ref NativeArray<int4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4>.New(new AverageSelectorFunc_int4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4>.New(new AverageSelectorFunc_int4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int4x2 Average<TSource>(
            this in ValueSequence<int4x2, TSource> source
            )
            where TSource : struct, ISequence<int4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int4x2<TSource> : IFunc<ValueSequence<int4x2, TSource>, int4x2>
            where TSource : struct, ISequence<int4x2>
        {
            public int4x2 Invoke(ValueSequence<int4x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int4x2 RunAverage<TSource>(
            this in ValueSequence<int4x2, TSource> source
            )
            where TSource : struct, ISequence<int4x2>
        {
            var func = ValueFunc<ValueSequence<int4x2, TSource>, int4x2>.New<AverageFunc_int4x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int4x2, TSource> source,
            ref NativeArray<int4x2> output
            )
            where TSource : struct, ISequence<int4x2>
        {
            var func = ValueFunc<ValueSequence<int4x2, TSource>, int4x2>.New<AverageFunc_int4x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x2> ScheduleAverage<TSource>(
            this in ValueSequence<int4x2, TSource> source
            )
            where TSource : struct, ISequence<int4x2>
        {
            var func = ValueFunc<ValueSequence<int4x2, TSource>, int4x2>.New<AverageFunc_int4x2<TSource>>();
            return source.Schedule(func);
        }

        public static int4x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int4x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int4x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x2>
        {
            readonly ValueFunc<T, int4x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_int4x2(ValueFunc<T, int4x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int4x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int4x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x2>.New(new AverageSelectorFunc_int4x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x2>.Struct<TSelector> selector,
            ref NativeArray<int4x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x2>.New(new AverageSelectorFunc_int4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x2>.New(new AverageSelectorFunc_int4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int4x3 Average<TSource>(
            this in ValueSequence<int4x3, TSource> source
            )
            where TSource : struct, ISequence<int4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int4x3<TSource> : IFunc<ValueSequence<int4x3, TSource>, int4x3>
            where TSource : struct, ISequence<int4x3>
        {
            public int4x3 Invoke(ValueSequence<int4x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int4x3 RunAverage<TSource>(
            this in ValueSequence<int4x3, TSource> source
            )
            where TSource : struct, ISequence<int4x3>
        {
            var func = ValueFunc<ValueSequence<int4x3, TSource>, int4x3>.New<AverageFunc_int4x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int4x3, TSource> source,
            ref NativeArray<int4x3> output
            )
            where TSource : struct, ISequence<int4x3>
        {
            var func = ValueFunc<ValueSequence<int4x3, TSource>, int4x3>.New<AverageFunc_int4x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x3> ScheduleAverage<TSource>(
            this in ValueSequence<int4x3, TSource> source
            )
            where TSource : struct, ISequence<int4x3>
        {
            var func = ValueFunc<ValueSequence<int4x3, TSource>, int4x3>.New<AverageFunc_int4x3<TSource>>();
            return source.Schedule(func);
        }

        public static int4x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int4x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int4x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x3>
        {
            readonly ValueFunc<T, int4x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_int4x3(ValueFunc<T, int4x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int4x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int4x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x3>.New(new AverageSelectorFunc_int4x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x3>.Struct<TSelector> selector,
            ref NativeArray<int4x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x3>.New(new AverageSelectorFunc_int4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x3>.New(new AverageSelectorFunc_int4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static int4x4 Average<TSource>(
            this in ValueSequence<int4x4, TSource> source
            )
            where TSource : struct, ISequence<int4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_int4x4<TSource> : IFunc<ValueSequence<int4x4, TSource>, int4x4>
            where TSource : struct, ISequence<int4x4>
        {
            public int4x4 Invoke(ValueSequence<int4x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static int4x4 RunAverage<TSource>(
            this in ValueSequence<int4x4, TSource> source
            )
            where TSource : struct, ISequence<int4x4>
        {
            var func = ValueFunc<ValueSequence<int4x4, TSource>, int4x4>.New<AverageFunc_int4x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<int4x4, TSource> source,
            ref NativeArray<int4x4> output
            )
            where TSource : struct, ISequence<int4x4>
        {
            var func = ValueFunc<ValueSequence<int4x4, TSource>, int4x4>.New<AverageFunc_int4x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x4> ScheduleAverage<TSource>(
            this in ValueSequence<int4x4, TSource> source
            )
            where TSource : struct, ISequence<int4x4>
        {
            var func = ValueFunc<ValueSequence<int4x4, TSource>, int4x4>.New<AverageFunc_int4x4<TSource>>();
            return source.Schedule(func);
        }

        public static int4x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            int4x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_int4x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, int4x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x4>
        {
            readonly ValueFunc<T, int4x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_int4x4(ValueFunc<T, int4x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public int4x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static int4x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x4>.New(new AverageSelectorFunc_int4x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x4>.Struct<TSelector> selector,
            ref NativeArray<int4x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x4>.New(new AverageSelectorFunc_int4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<int4x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, int4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, int4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, int4x4>.New(new AverageSelectorFunc_int4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint Average<TSource>(
            this in ValueSequence<uint, TSource> source
            )
            where TSource : struct, ISequence<uint>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint<TSource> : IFunc<ValueSequence<uint, TSource>, uint>
            where TSource : struct, ISequence<uint>
        {
            public uint Invoke(ValueSequence<uint, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint RunAverage<TSource>(
            this in ValueSequence<uint, TSource> source
            )
            where TSource : struct, ISequence<uint>
        {
            var func = ValueFunc<ValueSequence<uint, TSource>, uint>.New<AverageFunc_uint<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint, TSource> source,
            ref NativeArray<uint> output
            )
            where TSource : struct, ISequence<uint>
        {
            var func = ValueFunc<ValueSequence<uint, TSource>, uint>.New<AverageFunc_uint<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint> ScheduleAverage<TSource>(
            this in ValueSequence<uint, TSource> source
            )
            where TSource : struct, ISequence<uint>
        {
            var func = ValueFunc<ValueSequence<uint, TSource>, uint>.New<AverageFunc_uint<TSource>>();
            return source.Schedule(func);
        }

        public static uint Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint>
        {
            readonly ValueFunc<T, uint>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint(ValueFunc<T, uint>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint>.New(new AverageSelectorFunc_uint<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint>.Struct<TSelector> selector,
            ref NativeArray<uint> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint>.New(new AverageSelectorFunc_uint<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint>.New(new AverageSelectorFunc_uint<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint2 Average<TSource>(
            this in ValueSequence<uint2, TSource> source
            )
            where TSource : struct, ISequence<uint2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint2<TSource> : IFunc<ValueSequence<uint2, TSource>, uint2>
            where TSource : struct, ISequence<uint2>
        {
            public uint2 Invoke(ValueSequence<uint2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint2 RunAverage<TSource>(
            this in ValueSequence<uint2, TSource> source
            )
            where TSource : struct, ISequence<uint2>
        {
            var func = ValueFunc<ValueSequence<uint2, TSource>, uint2>.New<AverageFunc_uint2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint2, TSource> source,
            ref NativeArray<uint2> output
            )
            where TSource : struct, ISequence<uint2>
        {
            var func = ValueFunc<ValueSequence<uint2, TSource>, uint2>.New<AverageFunc_uint2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2> ScheduleAverage<TSource>(
            this in ValueSequence<uint2, TSource> source
            )
            where TSource : struct, ISequence<uint2>
        {
            var func = ValueFunc<ValueSequence<uint2, TSource>, uint2>.New<AverageFunc_uint2<TSource>>();
            return source.Schedule(func);
        }

        public static uint2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2>
        {
            readonly ValueFunc<T, uint2>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint2(ValueFunc<T, uint2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2>.New(new AverageSelectorFunc_uint2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2>.Struct<TSelector> selector,
            ref NativeArray<uint2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2>.New(new AverageSelectorFunc_uint2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2>.New(new AverageSelectorFunc_uint2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint2x2 Average<TSource>(
            this in ValueSequence<uint2x2, TSource> source
            )
            where TSource : struct, ISequence<uint2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint2x2<TSource> : IFunc<ValueSequence<uint2x2, TSource>, uint2x2>
            where TSource : struct, ISequence<uint2x2>
        {
            public uint2x2 Invoke(ValueSequence<uint2x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint2x2 RunAverage<TSource>(
            this in ValueSequence<uint2x2, TSource> source
            )
            where TSource : struct, ISequence<uint2x2>
        {
            var func = ValueFunc<ValueSequence<uint2x2, TSource>, uint2x2>.New<AverageFunc_uint2x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint2x2, TSource> source,
            ref NativeArray<uint2x2> output
            )
            where TSource : struct, ISequence<uint2x2>
        {
            var func = ValueFunc<ValueSequence<uint2x2, TSource>, uint2x2>.New<AverageFunc_uint2x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x2> ScheduleAverage<TSource>(
            this in ValueSequence<uint2x2, TSource> source
            )
            where TSource : struct, ISequence<uint2x2>
        {
            var func = ValueFunc<ValueSequence<uint2x2, TSource>, uint2x2>.New<AverageFunc_uint2x2<TSource>>();
            return source.Schedule(func);
        }

        public static uint2x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint2x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint2x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x2>
        {
            readonly ValueFunc<T, uint2x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint2x2(ValueFunc<T, uint2x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint2x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint2x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x2>.New(new AverageSelectorFunc_uint2x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x2>.Struct<TSelector> selector,
            ref NativeArray<uint2x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x2>.New(new AverageSelectorFunc_uint2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x2>.New(new AverageSelectorFunc_uint2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint2x3 Average<TSource>(
            this in ValueSequence<uint2x3, TSource> source
            )
            where TSource : struct, ISequence<uint2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint2x3<TSource> : IFunc<ValueSequence<uint2x3, TSource>, uint2x3>
            where TSource : struct, ISequence<uint2x3>
        {
            public uint2x3 Invoke(ValueSequence<uint2x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint2x3 RunAverage<TSource>(
            this in ValueSequence<uint2x3, TSource> source
            )
            where TSource : struct, ISequence<uint2x3>
        {
            var func = ValueFunc<ValueSequence<uint2x3, TSource>, uint2x3>.New<AverageFunc_uint2x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint2x3, TSource> source,
            ref NativeArray<uint2x3> output
            )
            where TSource : struct, ISequence<uint2x3>
        {
            var func = ValueFunc<ValueSequence<uint2x3, TSource>, uint2x3>.New<AverageFunc_uint2x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x3> ScheduleAverage<TSource>(
            this in ValueSequence<uint2x3, TSource> source
            )
            where TSource : struct, ISequence<uint2x3>
        {
            var func = ValueFunc<ValueSequence<uint2x3, TSource>, uint2x3>.New<AverageFunc_uint2x3<TSource>>();
            return source.Schedule(func);
        }

        public static uint2x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint2x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint2x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x3>
        {
            readonly ValueFunc<T, uint2x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint2x3(ValueFunc<T, uint2x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint2x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint2x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x3>.New(new AverageSelectorFunc_uint2x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x3>.Struct<TSelector> selector,
            ref NativeArray<uint2x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x3>.New(new AverageSelectorFunc_uint2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x3>.New(new AverageSelectorFunc_uint2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint2x4 Average<TSource>(
            this in ValueSequence<uint2x4, TSource> source
            )
            where TSource : struct, ISequence<uint2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint2x4<TSource> : IFunc<ValueSequence<uint2x4, TSource>, uint2x4>
            where TSource : struct, ISequence<uint2x4>
        {
            public uint2x4 Invoke(ValueSequence<uint2x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint2x4 RunAverage<TSource>(
            this in ValueSequence<uint2x4, TSource> source
            )
            where TSource : struct, ISequence<uint2x4>
        {
            var func = ValueFunc<ValueSequence<uint2x4, TSource>, uint2x4>.New<AverageFunc_uint2x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint2x4, TSource> source,
            ref NativeArray<uint2x4> output
            )
            where TSource : struct, ISequence<uint2x4>
        {
            var func = ValueFunc<ValueSequence<uint2x4, TSource>, uint2x4>.New<AverageFunc_uint2x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x4> ScheduleAverage<TSource>(
            this in ValueSequence<uint2x4, TSource> source
            )
            where TSource : struct, ISequence<uint2x4>
        {
            var func = ValueFunc<ValueSequence<uint2x4, TSource>, uint2x4>.New<AverageFunc_uint2x4<TSource>>();
            return source.Schedule(func);
        }

        public static uint2x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint2x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint2x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint2x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x4>
        {
            readonly ValueFunc<T, uint2x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint2x4(ValueFunc<T, uint2x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint2x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint2x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x4>.New(new AverageSelectorFunc_uint2x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x4>.Struct<TSelector> selector,
            ref NativeArray<uint2x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x4>.New(new AverageSelectorFunc_uint2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint2x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint2x4>.New(new AverageSelectorFunc_uint2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint3 Average<TSource>(
            this in ValueSequence<uint3, TSource> source
            )
            where TSource : struct, ISequence<uint3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint3<TSource> : IFunc<ValueSequence<uint3, TSource>, uint3>
            where TSource : struct, ISequence<uint3>
        {
            public uint3 Invoke(ValueSequence<uint3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint3 RunAverage<TSource>(
            this in ValueSequence<uint3, TSource> source
            )
            where TSource : struct, ISequence<uint3>
        {
            var func = ValueFunc<ValueSequence<uint3, TSource>, uint3>.New<AverageFunc_uint3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint3, TSource> source,
            ref NativeArray<uint3> output
            )
            where TSource : struct, ISequence<uint3>
        {
            var func = ValueFunc<ValueSequence<uint3, TSource>, uint3>.New<AverageFunc_uint3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3> ScheduleAverage<TSource>(
            this in ValueSequence<uint3, TSource> source
            )
            where TSource : struct, ISequence<uint3>
        {
            var func = ValueFunc<ValueSequence<uint3, TSource>, uint3>.New<AverageFunc_uint3<TSource>>();
            return source.Schedule(func);
        }

        public static uint3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3>
        {
            readonly ValueFunc<T, uint3>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint3(ValueFunc<T, uint3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3>.New(new AverageSelectorFunc_uint3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3>.Struct<TSelector> selector,
            ref NativeArray<uint3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3>.New(new AverageSelectorFunc_uint3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3>.New(new AverageSelectorFunc_uint3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint3x2 Average<TSource>(
            this in ValueSequence<uint3x2, TSource> source
            )
            where TSource : struct, ISequence<uint3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint3x2<TSource> : IFunc<ValueSequence<uint3x2, TSource>, uint3x2>
            where TSource : struct, ISequence<uint3x2>
        {
            public uint3x2 Invoke(ValueSequence<uint3x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint3x2 RunAverage<TSource>(
            this in ValueSequence<uint3x2, TSource> source
            )
            where TSource : struct, ISequence<uint3x2>
        {
            var func = ValueFunc<ValueSequence<uint3x2, TSource>, uint3x2>.New<AverageFunc_uint3x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint3x2, TSource> source,
            ref NativeArray<uint3x2> output
            )
            where TSource : struct, ISequence<uint3x2>
        {
            var func = ValueFunc<ValueSequence<uint3x2, TSource>, uint3x2>.New<AverageFunc_uint3x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x2> ScheduleAverage<TSource>(
            this in ValueSequence<uint3x2, TSource> source
            )
            where TSource : struct, ISequence<uint3x2>
        {
            var func = ValueFunc<ValueSequence<uint3x2, TSource>, uint3x2>.New<AverageFunc_uint3x2<TSource>>();
            return source.Schedule(func);
        }

        public static uint3x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint3x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint3x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x2>
        {
            readonly ValueFunc<T, uint3x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint3x2(ValueFunc<T, uint3x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint3x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint3x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x2>.New(new AverageSelectorFunc_uint3x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x2>.Struct<TSelector> selector,
            ref NativeArray<uint3x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x2>.New(new AverageSelectorFunc_uint3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x2>.New(new AverageSelectorFunc_uint3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint3x3 Average<TSource>(
            this in ValueSequence<uint3x3, TSource> source
            )
            where TSource : struct, ISequence<uint3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint3x3<TSource> : IFunc<ValueSequence<uint3x3, TSource>, uint3x3>
            where TSource : struct, ISequence<uint3x3>
        {
            public uint3x3 Invoke(ValueSequence<uint3x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint3x3 RunAverage<TSource>(
            this in ValueSequence<uint3x3, TSource> source
            )
            where TSource : struct, ISequence<uint3x3>
        {
            var func = ValueFunc<ValueSequence<uint3x3, TSource>, uint3x3>.New<AverageFunc_uint3x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint3x3, TSource> source,
            ref NativeArray<uint3x3> output
            )
            where TSource : struct, ISequence<uint3x3>
        {
            var func = ValueFunc<ValueSequence<uint3x3, TSource>, uint3x3>.New<AverageFunc_uint3x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x3> ScheduleAverage<TSource>(
            this in ValueSequence<uint3x3, TSource> source
            )
            where TSource : struct, ISequence<uint3x3>
        {
            var func = ValueFunc<ValueSequence<uint3x3, TSource>, uint3x3>.New<AverageFunc_uint3x3<TSource>>();
            return source.Schedule(func);
        }

        public static uint3x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint3x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint3x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x3>
        {
            readonly ValueFunc<T, uint3x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint3x3(ValueFunc<T, uint3x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint3x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint3x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x3>.New(new AverageSelectorFunc_uint3x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x3>.Struct<TSelector> selector,
            ref NativeArray<uint3x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x3>.New(new AverageSelectorFunc_uint3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x3>.New(new AverageSelectorFunc_uint3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint3x4 Average<TSource>(
            this in ValueSequence<uint3x4, TSource> source
            )
            where TSource : struct, ISequence<uint3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint3x4<TSource> : IFunc<ValueSequence<uint3x4, TSource>, uint3x4>
            where TSource : struct, ISequence<uint3x4>
        {
            public uint3x4 Invoke(ValueSequence<uint3x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint3x4 RunAverage<TSource>(
            this in ValueSequence<uint3x4, TSource> source
            )
            where TSource : struct, ISequence<uint3x4>
        {
            var func = ValueFunc<ValueSequence<uint3x4, TSource>, uint3x4>.New<AverageFunc_uint3x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint3x4, TSource> source,
            ref NativeArray<uint3x4> output
            )
            where TSource : struct, ISequence<uint3x4>
        {
            var func = ValueFunc<ValueSequence<uint3x4, TSource>, uint3x4>.New<AverageFunc_uint3x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x4> ScheduleAverage<TSource>(
            this in ValueSequence<uint3x4, TSource> source
            )
            where TSource : struct, ISequence<uint3x4>
        {
            var func = ValueFunc<ValueSequence<uint3x4, TSource>, uint3x4>.New<AverageFunc_uint3x4<TSource>>();
            return source.Schedule(func);
        }

        public static uint3x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint3x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint3x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint3x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x4>
        {
            readonly ValueFunc<T, uint3x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint3x4(ValueFunc<T, uint3x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint3x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint3x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x4>.New(new AverageSelectorFunc_uint3x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x4>.Struct<TSelector> selector,
            ref NativeArray<uint3x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x4>.New(new AverageSelectorFunc_uint3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint3x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint3x4>.New(new AverageSelectorFunc_uint3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint4 Average<TSource>(
            this in ValueSequence<uint4, TSource> source
            )
            where TSource : struct, ISequence<uint4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint4<TSource> : IFunc<ValueSequence<uint4, TSource>, uint4>
            where TSource : struct, ISequence<uint4>
        {
            public uint4 Invoke(ValueSequence<uint4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint4 RunAverage<TSource>(
            this in ValueSequence<uint4, TSource> source
            )
            where TSource : struct, ISequence<uint4>
        {
            var func = ValueFunc<ValueSequence<uint4, TSource>, uint4>.New<AverageFunc_uint4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint4, TSource> source,
            ref NativeArray<uint4> output
            )
            where TSource : struct, ISequence<uint4>
        {
            var func = ValueFunc<ValueSequence<uint4, TSource>, uint4>.New<AverageFunc_uint4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4> ScheduleAverage<TSource>(
            this in ValueSequence<uint4, TSource> source
            )
            where TSource : struct, ISequence<uint4>
        {
            var func = ValueFunc<ValueSequence<uint4, TSource>, uint4>.New<AverageFunc_uint4<TSource>>();
            return source.Schedule(func);
        }

        public static uint4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4>
        {
            readonly ValueFunc<T, uint4>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint4(ValueFunc<T, uint4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4>.New(new AverageSelectorFunc_uint4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4>.Struct<TSelector> selector,
            ref NativeArray<uint4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4>.New(new AverageSelectorFunc_uint4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4>.New(new AverageSelectorFunc_uint4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint4x2 Average<TSource>(
            this in ValueSequence<uint4x2, TSource> source
            )
            where TSource : struct, ISequence<uint4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint4x2<TSource> : IFunc<ValueSequence<uint4x2, TSource>, uint4x2>
            where TSource : struct, ISequence<uint4x2>
        {
            public uint4x2 Invoke(ValueSequence<uint4x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint4x2 RunAverage<TSource>(
            this in ValueSequence<uint4x2, TSource> source
            )
            where TSource : struct, ISequence<uint4x2>
        {
            var func = ValueFunc<ValueSequence<uint4x2, TSource>, uint4x2>.New<AverageFunc_uint4x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint4x2, TSource> source,
            ref NativeArray<uint4x2> output
            )
            where TSource : struct, ISequence<uint4x2>
        {
            var func = ValueFunc<ValueSequence<uint4x2, TSource>, uint4x2>.New<AverageFunc_uint4x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x2> ScheduleAverage<TSource>(
            this in ValueSequence<uint4x2, TSource> source
            )
            where TSource : struct, ISequence<uint4x2>
        {
            var func = ValueFunc<ValueSequence<uint4x2, TSource>, uint4x2>.New<AverageFunc_uint4x2<TSource>>();
            return source.Schedule(func);
        }

        public static uint4x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint4x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint4x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x2>
        {
            readonly ValueFunc<T, uint4x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint4x2(ValueFunc<T, uint4x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint4x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint4x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x2>.New(new AverageSelectorFunc_uint4x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x2>.Struct<TSelector> selector,
            ref NativeArray<uint4x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x2>.New(new AverageSelectorFunc_uint4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x2>.New(new AverageSelectorFunc_uint4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint4x3 Average<TSource>(
            this in ValueSequence<uint4x3, TSource> source
            )
            where TSource : struct, ISequence<uint4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint4x3<TSource> : IFunc<ValueSequence<uint4x3, TSource>, uint4x3>
            where TSource : struct, ISequence<uint4x3>
        {
            public uint4x3 Invoke(ValueSequence<uint4x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint4x3 RunAverage<TSource>(
            this in ValueSequence<uint4x3, TSource> source
            )
            where TSource : struct, ISequence<uint4x3>
        {
            var func = ValueFunc<ValueSequence<uint4x3, TSource>, uint4x3>.New<AverageFunc_uint4x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint4x3, TSource> source,
            ref NativeArray<uint4x3> output
            )
            where TSource : struct, ISequence<uint4x3>
        {
            var func = ValueFunc<ValueSequence<uint4x3, TSource>, uint4x3>.New<AverageFunc_uint4x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x3> ScheduleAverage<TSource>(
            this in ValueSequence<uint4x3, TSource> source
            )
            where TSource : struct, ISequence<uint4x3>
        {
            var func = ValueFunc<ValueSequence<uint4x3, TSource>, uint4x3>.New<AverageFunc_uint4x3<TSource>>();
            return source.Schedule(func);
        }

        public static uint4x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint4x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint4x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x3>
        {
            readonly ValueFunc<T, uint4x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint4x3(ValueFunc<T, uint4x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint4x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint4x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x3>.New(new AverageSelectorFunc_uint4x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x3>.Struct<TSelector> selector,
            ref NativeArray<uint4x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x3>.New(new AverageSelectorFunc_uint4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x3>.New(new AverageSelectorFunc_uint4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static uint4x4 Average<TSource>(
            this in ValueSequence<uint4x4, TSource> source
            )
            where TSource : struct, ISequence<uint4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_uint4x4<TSource> : IFunc<ValueSequence<uint4x4, TSource>, uint4x4>
            where TSource : struct, ISequence<uint4x4>
        {
            public uint4x4 Invoke(ValueSequence<uint4x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static uint4x4 RunAverage<TSource>(
            this in ValueSequence<uint4x4, TSource> source
            )
            where TSource : struct, ISequence<uint4x4>
        {
            var func = ValueFunc<ValueSequence<uint4x4, TSource>, uint4x4>.New<AverageFunc_uint4x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<uint4x4, TSource> source,
            ref NativeArray<uint4x4> output
            )
            where TSource : struct, ISequence<uint4x4>
        {
            var func = ValueFunc<ValueSequence<uint4x4, TSource>, uint4x4>.New<AverageFunc_uint4x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x4> ScheduleAverage<TSource>(
            this in ValueSequence<uint4x4, TSource> source
            )
            where TSource : struct, ISequence<uint4x4>
        {
            var func = ValueFunc<ValueSequence<uint4x4, TSource>, uint4x4>.New<AverageFunc_uint4x4<TSource>>();
            return source.Schedule(func);
        }

        public static uint4x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            uint4x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / (uint)srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_uint4x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, uint4x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x4>
        {
            readonly ValueFunc<T, uint4x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_uint4x4(ValueFunc<T, uint4x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public uint4x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static uint4x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x4>.New(new AverageSelectorFunc_uint4x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x4>.Struct<TSelector> selector,
            ref NativeArray<uint4x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x4>.New(new AverageSelectorFunc_uint4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<uint4x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, uint4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, uint4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, uint4x4>.New(new AverageSelectorFunc_uint4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float Average<TSource>(
            this in ValueSequence<float, TSource> source
            )
            where TSource : struct, ISequence<float>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float<TSource> : IFunc<ValueSequence<float, TSource>, float>
            where TSource : struct, ISequence<float>
        {
            public float Invoke(ValueSequence<float, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float RunAverage<TSource>(
            this in ValueSequence<float, TSource> source
            )
            where TSource : struct, ISequence<float>
        {
            var func = ValueFunc<ValueSequence<float, TSource>, float>.New<AverageFunc_float<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float, TSource> source,
            ref NativeArray<float> output
            )
            where TSource : struct, ISequence<float>
        {
            var func = ValueFunc<ValueSequence<float, TSource>, float>.New<AverageFunc_float<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float> ScheduleAverage<TSource>(
            this in ValueSequence<float, TSource> source
            )
            where TSource : struct, ISequence<float>
        {
            var func = ValueFunc<ValueSequence<float, TSource>, float>.New<AverageFunc_float<TSource>>();
            return source.Schedule(func);
        }

        public static float Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float>
        {
            readonly ValueFunc<T, float>.Struct<TSelector> selector;

            public AverageSelectorFunc_float(ValueFunc<T, float>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float>.New(new AverageSelectorFunc_float<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float>.Struct<TSelector> selector,
            ref NativeArray<float> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float>.New(new AverageSelectorFunc_float<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float>.New(new AverageSelectorFunc_float<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float2 Average<TSource>(
            this in ValueSequence<float2, TSource> source
            )
            where TSource : struct, ISequence<float2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float2<TSource> : IFunc<ValueSequence<float2, TSource>, float2>
            where TSource : struct, ISequence<float2>
        {
            public float2 Invoke(ValueSequence<float2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float2 RunAverage<TSource>(
            this in ValueSequence<float2, TSource> source
            )
            where TSource : struct, ISequence<float2>
        {
            var func = ValueFunc<ValueSequence<float2, TSource>, float2>.New<AverageFunc_float2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float2, TSource> source,
            ref NativeArray<float2> output
            )
            where TSource : struct, ISequence<float2>
        {
            var func = ValueFunc<ValueSequence<float2, TSource>, float2>.New<AverageFunc_float2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2> ScheduleAverage<TSource>(
            this in ValueSequence<float2, TSource> source
            )
            where TSource : struct, ISequence<float2>
        {
            var func = ValueFunc<ValueSequence<float2, TSource>, float2>.New<AverageFunc_float2<TSource>>();
            return source.Schedule(func);
        }

        public static float2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2>
        {
            readonly ValueFunc<T, float2>.Struct<TSelector> selector;

            public AverageSelectorFunc_float2(ValueFunc<T, float2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2>.New(new AverageSelectorFunc_float2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2>.Struct<TSelector> selector,
            ref NativeArray<float2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2>.New(new AverageSelectorFunc_float2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2>.New(new AverageSelectorFunc_float2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float2x2 Average<TSource>(
            this in ValueSequence<float2x2, TSource> source
            )
            where TSource : struct, ISequence<float2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float2x2<TSource> : IFunc<ValueSequence<float2x2, TSource>, float2x2>
            where TSource : struct, ISequence<float2x2>
        {
            public float2x2 Invoke(ValueSequence<float2x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float2x2 RunAverage<TSource>(
            this in ValueSequence<float2x2, TSource> source
            )
            where TSource : struct, ISequence<float2x2>
        {
            var func = ValueFunc<ValueSequence<float2x2, TSource>, float2x2>.New<AverageFunc_float2x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float2x2, TSource> source,
            ref NativeArray<float2x2> output
            )
            where TSource : struct, ISequence<float2x2>
        {
            var func = ValueFunc<ValueSequence<float2x2, TSource>, float2x2>.New<AverageFunc_float2x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x2> ScheduleAverage<TSource>(
            this in ValueSequence<float2x2, TSource> source
            )
            where TSource : struct, ISequence<float2x2>
        {
            var func = ValueFunc<ValueSequence<float2x2, TSource>, float2x2>.New<AverageFunc_float2x2<TSource>>();
            return source.Schedule(func);
        }

        public static float2x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float2x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float2x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x2>
        {
            readonly ValueFunc<T, float2x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_float2x2(ValueFunc<T, float2x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float2x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float2x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x2>.New(new AverageSelectorFunc_float2x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x2>.Struct<TSelector> selector,
            ref NativeArray<float2x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x2>.New(new AverageSelectorFunc_float2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x2>.New(new AverageSelectorFunc_float2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float2x3 Average<TSource>(
            this in ValueSequence<float2x3, TSource> source
            )
            where TSource : struct, ISequence<float2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float2x3<TSource> : IFunc<ValueSequence<float2x3, TSource>, float2x3>
            where TSource : struct, ISequence<float2x3>
        {
            public float2x3 Invoke(ValueSequence<float2x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float2x3 RunAverage<TSource>(
            this in ValueSequence<float2x3, TSource> source
            )
            where TSource : struct, ISequence<float2x3>
        {
            var func = ValueFunc<ValueSequence<float2x3, TSource>, float2x3>.New<AverageFunc_float2x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float2x3, TSource> source,
            ref NativeArray<float2x3> output
            )
            where TSource : struct, ISequence<float2x3>
        {
            var func = ValueFunc<ValueSequence<float2x3, TSource>, float2x3>.New<AverageFunc_float2x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x3> ScheduleAverage<TSource>(
            this in ValueSequence<float2x3, TSource> source
            )
            where TSource : struct, ISequence<float2x3>
        {
            var func = ValueFunc<ValueSequence<float2x3, TSource>, float2x3>.New<AverageFunc_float2x3<TSource>>();
            return source.Schedule(func);
        }

        public static float2x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float2x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float2x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x3>
        {
            readonly ValueFunc<T, float2x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_float2x3(ValueFunc<T, float2x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float2x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float2x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x3>.New(new AverageSelectorFunc_float2x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x3>.Struct<TSelector> selector,
            ref NativeArray<float2x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x3>.New(new AverageSelectorFunc_float2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x3>.New(new AverageSelectorFunc_float2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float2x4 Average<TSource>(
            this in ValueSequence<float2x4, TSource> source
            )
            where TSource : struct, ISequence<float2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float2x4<TSource> : IFunc<ValueSequence<float2x4, TSource>, float2x4>
            where TSource : struct, ISequence<float2x4>
        {
            public float2x4 Invoke(ValueSequence<float2x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float2x4 RunAverage<TSource>(
            this in ValueSequence<float2x4, TSource> source
            )
            where TSource : struct, ISequence<float2x4>
        {
            var func = ValueFunc<ValueSequence<float2x4, TSource>, float2x4>.New<AverageFunc_float2x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float2x4, TSource> source,
            ref NativeArray<float2x4> output
            )
            where TSource : struct, ISequence<float2x4>
        {
            var func = ValueFunc<ValueSequence<float2x4, TSource>, float2x4>.New<AverageFunc_float2x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x4> ScheduleAverage<TSource>(
            this in ValueSequence<float2x4, TSource> source
            )
            where TSource : struct, ISequence<float2x4>
        {
            var func = ValueFunc<ValueSequence<float2x4, TSource>, float2x4>.New<AverageFunc_float2x4<TSource>>();
            return source.Schedule(func);
        }

        public static float2x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float2x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float2x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float2x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x4>
        {
            readonly ValueFunc<T, float2x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_float2x4(ValueFunc<T, float2x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float2x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float2x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x4>.New(new AverageSelectorFunc_float2x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x4>.Struct<TSelector> selector,
            ref NativeArray<float2x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x4>.New(new AverageSelectorFunc_float2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float2x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float2x4>.New(new AverageSelectorFunc_float2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float3 Average<TSource>(
            this in ValueSequence<float3, TSource> source
            )
            where TSource : struct, ISequence<float3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float3<TSource> : IFunc<ValueSequence<float3, TSource>, float3>
            where TSource : struct, ISequence<float3>
        {
            public float3 Invoke(ValueSequence<float3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float3 RunAverage<TSource>(
            this in ValueSequence<float3, TSource> source
            )
            where TSource : struct, ISequence<float3>
        {
            var func = ValueFunc<ValueSequence<float3, TSource>, float3>.New<AverageFunc_float3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float3, TSource> source,
            ref NativeArray<float3> output
            )
            where TSource : struct, ISequence<float3>
        {
            var func = ValueFunc<ValueSequence<float3, TSource>, float3>.New<AverageFunc_float3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3> ScheduleAverage<TSource>(
            this in ValueSequence<float3, TSource> source
            )
            where TSource : struct, ISequence<float3>
        {
            var func = ValueFunc<ValueSequence<float3, TSource>, float3>.New<AverageFunc_float3<TSource>>();
            return source.Schedule(func);
        }

        public static float3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3>
        {
            readonly ValueFunc<T, float3>.Struct<TSelector> selector;

            public AverageSelectorFunc_float3(ValueFunc<T, float3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3>.New(new AverageSelectorFunc_float3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3>.Struct<TSelector> selector,
            ref NativeArray<float3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3>.New(new AverageSelectorFunc_float3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3>.New(new AverageSelectorFunc_float3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float3x2 Average<TSource>(
            this in ValueSequence<float3x2, TSource> source
            )
            where TSource : struct, ISequence<float3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float3x2<TSource> : IFunc<ValueSequence<float3x2, TSource>, float3x2>
            where TSource : struct, ISequence<float3x2>
        {
            public float3x2 Invoke(ValueSequence<float3x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float3x2 RunAverage<TSource>(
            this in ValueSequence<float3x2, TSource> source
            )
            where TSource : struct, ISequence<float3x2>
        {
            var func = ValueFunc<ValueSequence<float3x2, TSource>, float3x2>.New<AverageFunc_float3x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float3x2, TSource> source,
            ref NativeArray<float3x2> output
            )
            where TSource : struct, ISequence<float3x2>
        {
            var func = ValueFunc<ValueSequence<float3x2, TSource>, float3x2>.New<AverageFunc_float3x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x2> ScheduleAverage<TSource>(
            this in ValueSequence<float3x2, TSource> source
            )
            where TSource : struct, ISequence<float3x2>
        {
            var func = ValueFunc<ValueSequence<float3x2, TSource>, float3x2>.New<AverageFunc_float3x2<TSource>>();
            return source.Schedule(func);
        }

        public static float3x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float3x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float3x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x2>
        {
            readonly ValueFunc<T, float3x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_float3x2(ValueFunc<T, float3x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float3x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float3x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x2>.New(new AverageSelectorFunc_float3x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x2>.Struct<TSelector> selector,
            ref NativeArray<float3x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x2>.New(new AverageSelectorFunc_float3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x2>.New(new AverageSelectorFunc_float3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float3x3 Average<TSource>(
            this in ValueSequence<float3x3, TSource> source
            )
            where TSource : struct, ISequence<float3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float3x3<TSource> : IFunc<ValueSequence<float3x3, TSource>, float3x3>
            where TSource : struct, ISequence<float3x3>
        {
            public float3x3 Invoke(ValueSequence<float3x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float3x3 RunAverage<TSource>(
            this in ValueSequence<float3x3, TSource> source
            )
            where TSource : struct, ISequence<float3x3>
        {
            var func = ValueFunc<ValueSequence<float3x3, TSource>, float3x3>.New<AverageFunc_float3x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float3x3, TSource> source,
            ref NativeArray<float3x3> output
            )
            where TSource : struct, ISequence<float3x3>
        {
            var func = ValueFunc<ValueSequence<float3x3, TSource>, float3x3>.New<AverageFunc_float3x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x3> ScheduleAverage<TSource>(
            this in ValueSequence<float3x3, TSource> source
            )
            where TSource : struct, ISequence<float3x3>
        {
            var func = ValueFunc<ValueSequence<float3x3, TSource>, float3x3>.New<AverageFunc_float3x3<TSource>>();
            return source.Schedule(func);
        }

        public static float3x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float3x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float3x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x3>
        {
            readonly ValueFunc<T, float3x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_float3x3(ValueFunc<T, float3x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float3x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float3x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x3>.New(new AverageSelectorFunc_float3x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x3>.Struct<TSelector> selector,
            ref NativeArray<float3x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x3>.New(new AverageSelectorFunc_float3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x3>.New(new AverageSelectorFunc_float3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float3x4 Average<TSource>(
            this in ValueSequence<float3x4, TSource> source
            )
            where TSource : struct, ISequence<float3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float3x4<TSource> : IFunc<ValueSequence<float3x4, TSource>, float3x4>
            where TSource : struct, ISequence<float3x4>
        {
            public float3x4 Invoke(ValueSequence<float3x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float3x4 RunAverage<TSource>(
            this in ValueSequence<float3x4, TSource> source
            )
            where TSource : struct, ISequence<float3x4>
        {
            var func = ValueFunc<ValueSequence<float3x4, TSource>, float3x4>.New<AverageFunc_float3x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float3x4, TSource> source,
            ref NativeArray<float3x4> output
            )
            where TSource : struct, ISequence<float3x4>
        {
            var func = ValueFunc<ValueSequence<float3x4, TSource>, float3x4>.New<AverageFunc_float3x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x4> ScheduleAverage<TSource>(
            this in ValueSequence<float3x4, TSource> source
            )
            where TSource : struct, ISequence<float3x4>
        {
            var func = ValueFunc<ValueSequence<float3x4, TSource>, float3x4>.New<AverageFunc_float3x4<TSource>>();
            return source.Schedule(func);
        }

        public static float3x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float3x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float3x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float3x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x4>
        {
            readonly ValueFunc<T, float3x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_float3x4(ValueFunc<T, float3x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float3x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float3x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x4>.New(new AverageSelectorFunc_float3x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x4>.Struct<TSelector> selector,
            ref NativeArray<float3x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x4>.New(new AverageSelectorFunc_float3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float3x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float3x4>.New(new AverageSelectorFunc_float3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float4 Average<TSource>(
            this in ValueSequence<float4, TSource> source
            )
            where TSource : struct, ISequence<float4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float4<TSource> : IFunc<ValueSequence<float4, TSource>, float4>
            where TSource : struct, ISequence<float4>
        {
            public float4 Invoke(ValueSequence<float4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float4 RunAverage<TSource>(
            this in ValueSequence<float4, TSource> source
            )
            where TSource : struct, ISequence<float4>
        {
            var func = ValueFunc<ValueSequence<float4, TSource>, float4>.New<AverageFunc_float4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float4, TSource> source,
            ref NativeArray<float4> output
            )
            where TSource : struct, ISequence<float4>
        {
            var func = ValueFunc<ValueSequence<float4, TSource>, float4>.New<AverageFunc_float4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4> ScheduleAverage<TSource>(
            this in ValueSequence<float4, TSource> source
            )
            where TSource : struct, ISequence<float4>
        {
            var func = ValueFunc<ValueSequence<float4, TSource>, float4>.New<AverageFunc_float4<TSource>>();
            return source.Schedule(func);
        }

        public static float4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4>
        {
            readonly ValueFunc<T, float4>.Struct<TSelector> selector;

            public AverageSelectorFunc_float4(ValueFunc<T, float4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4>.New(new AverageSelectorFunc_float4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4>.Struct<TSelector> selector,
            ref NativeArray<float4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4>.New(new AverageSelectorFunc_float4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4>.New(new AverageSelectorFunc_float4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float4x2 Average<TSource>(
            this in ValueSequence<float4x2, TSource> source
            )
            where TSource : struct, ISequence<float4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float4x2<TSource> : IFunc<ValueSequence<float4x2, TSource>, float4x2>
            where TSource : struct, ISequence<float4x2>
        {
            public float4x2 Invoke(ValueSequence<float4x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float4x2 RunAverage<TSource>(
            this in ValueSequence<float4x2, TSource> source
            )
            where TSource : struct, ISequence<float4x2>
        {
            var func = ValueFunc<ValueSequence<float4x2, TSource>, float4x2>.New<AverageFunc_float4x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float4x2, TSource> source,
            ref NativeArray<float4x2> output
            )
            where TSource : struct, ISequence<float4x2>
        {
            var func = ValueFunc<ValueSequence<float4x2, TSource>, float4x2>.New<AverageFunc_float4x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x2> ScheduleAverage<TSource>(
            this in ValueSequence<float4x2, TSource> source
            )
            where TSource : struct, ISequence<float4x2>
        {
            var func = ValueFunc<ValueSequence<float4x2, TSource>, float4x2>.New<AverageFunc_float4x2<TSource>>();
            return source.Schedule(func);
        }

        public static float4x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float4x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float4x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x2>
        {
            readonly ValueFunc<T, float4x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_float4x2(ValueFunc<T, float4x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float4x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float4x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x2>.New(new AverageSelectorFunc_float4x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x2>.Struct<TSelector> selector,
            ref NativeArray<float4x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x2>.New(new AverageSelectorFunc_float4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x2>.New(new AverageSelectorFunc_float4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float4x3 Average<TSource>(
            this in ValueSequence<float4x3, TSource> source
            )
            where TSource : struct, ISequence<float4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float4x3<TSource> : IFunc<ValueSequence<float4x3, TSource>, float4x3>
            where TSource : struct, ISequence<float4x3>
        {
            public float4x3 Invoke(ValueSequence<float4x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float4x3 RunAverage<TSource>(
            this in ValueSequence<float4x3, TSource> source
            )
            where TSource : struct, ISequence<float4x3>
        {
            var func = ValueFunc<ValueSequence<float4x3, TSource>, float4x3>.New<AverageFunc_float4x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float4x3, TSource> source,
            ref NativeArray<float4x3> output
            )
            where TSource : struct, ISequence<float4x3>
        {
            var func = ValueFunc<ValueSequence<float4x3, TSource>, float4x3>.New<AverageFunc_float4x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x3> ScheduleAverage<TSource>(
            this in ValueSequence<float4x3, TSource> source
            )
            where TSource : struct, ISequence<float4x3>
        {
            var func = ValueFunc<ValueSequence<float4x3, TSource>, float4x3>.New<AverageFunc_float4x3<TSource>>();
            return source.Schedule(func);
        }

        public static float4x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float4x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float4x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x3>
        {
            readonly ValueFunc<T, float4x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_float4x3(ValueFunc<T, float4x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float4x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float4x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x3>.New(new AverageSelectorFunc_float4x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x3>.Struct<TSelector> selector,
            ref NativeArray<float4x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x3>.New(new AverageSelectorFunc_float4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x3>.New(new AverageSelectorFunc_float4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static float4x4 Average<TSource>(
            this in ValueSequence<float4x4, TSource> source
            )
            where TSource : struct, ISequence<float4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_float4x4<TSource> : IFunc<ValueSequence<float4x4, TSource>, float4x4>
            where TSource : struct, ISequence<float4x4>
        {
            public float4x4 Invoke(ValueSequence<float4x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static float4x4 RunAverage<TSource>(
            this in ValueSequence<float4x4, TSource> source
            )
            where TSource : struct, ISequence<float4x4>
        {
            var func = ValueFunc<ValueSequence<float4x4, TSource>, float4x4>.New<AverageFunc_float4x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<float4x4, TSource> source,
            ref NativeArray<float4x4> output
            )
            where TSource : struct, ISequence<float4x4>
        {
            var func = ValueFunc<ValueSequence<float4x4, TSource>, float4x4>.New<AverageFunc_float4x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x4> ScheduleAverage<TSource>(
            this in ValueSequence<float4x4, TSource> source
            )
            where TSource : struct, ISequence<float4x4>
        {
            var func = ValueFunc<ValueSequence<float4x4, TSource>, float4x4>.New<AverageFunc_float4x4<TSource>>();
            return source.Schedule(func);
        }

        public static float4x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            float4x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_float4x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, float4x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x4>
        {
            readonly ValueFunc<T, float4x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_float4x4(ValueFunc<T, float4x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public float4x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static float4x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x4>.New(new AverageSelectorFunc_float4x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x4>.Struct<TSelector> selector,
            ref NativeArray<float4x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x4>.New(new AverageSelectorFunc_float4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<float4x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, float4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, float4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, float4x4>.New(new AverageSelectorFunc_float4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double Average<TSource>(
            this in ValueSequence<double, TSource> source
            )
            where TSource : struct, ISequence<double>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double<TSource> : IFunc<ValueSequence<double, TSource>, double>
            where TSource : struct, ISequence<double>
        {
            public double Invoke(ValueSequence<double, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double RunAverage<TSource>(
            this in ValueSequence<double, TSource> source
            )
            where TSource : struct, ISequence<double>
        {
            var func = ValueFunc<ValueSequence<double, TSource>, double>.New<AverageFunc_double<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double, TSource> source,
            ref NativeArray<double> output
            )
            where TSource : struct, ISequence<double>
        {
            var func = ValueFunc<ValueSequence<double, TSource>, double>.New<AverageFunc_double<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double> ScheduleAverage<TSource>(
            this in ValueSequence<double, TSource> source
            )
            where TSource : struct, ISequence<double>
        {
            var func = ValueFunc<ValueSequence<double, TSource>, double>.New<AverageFunc_double<TSource>>();
            return source.Schedule(func);
        }

        public static double Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double>
        {
            readonly ValueFunc<T, double>.Struct<TSelector> selector;

            public AverageSelectorFunc_double(ValueFunc<T, double>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double>.New(new AverageSelectorFunc_double<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double>.Struct<TSelector> selector,
            ref NativeArray<double> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double>.New(new AverageSelectorFunc_double<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double>.New(new AverageSelectorFunc_double<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double2 Average<TSource>(
            this in ValueSequence<double2, TSource> source
            )
            where TSource : struct, ISequence<double2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double2<TSource> : IFunc<ValueSequence<double2, TSource>, double2>
            where TSource : struct, ISequence<double2>
        {
            public double2 Invoke(ValueSequence<double2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double2 RunAverage<TSource>(
            this in ValueSequence<double2, TSource> source
            )
            where TSource : struct, ISequence<double2>
        {
            var func = ValueFunc<ValueSequence<double2, TSource>, double2>.New<AverageFunc_double2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double2, TSource> source,
            ref NativeArray<double2> output
            )
            where TSource : struct, ISequence<double2>
        {
            var func = ValueFunc<ValueSequence<double2, TSource>, double2>.New<AverageFunc_double2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2> ScheduleAverage<TSource>(
            this in ValueSequence<double2, TSource> source
            )
            where TSource : struct, ISequence<double2>
        {
            var func = ValueFunc<ValueSequence<double2, TSource>, double2>.New<AverageFunc_double2<TSource>>();
            return source.Schedule(func);
        }

        public static double2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2>
        {
            readonly ValueFunc<T, double2>.Struct<TSelector> selector;

            public AverageSelectorFunc_double2(ValueFunc<T, double2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2>.New(new AverageSelectorFunc_double2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2>.Struct<TSelector> selector,
            ref NativeArray<double2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2>.New(new AverageSelectorFunc_double2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2>.New(new AverageSelectorFunc_double2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double2x2 Average<TSource>(
            this in ValueSequence<double2x2, TSource> source
            )
            where TSource : struct, ISequence<double2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double2x2<TSource> : IFunc<ValueSequence<double2x2, TSource>, double2x2>
            where TSource : struct, ISequence<double2x2>
        {
            public double2x2 Invoke(ValueSequence<double2x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double2x2 RunAverage<TSource>(
            this in ValueSequence<double2x2, TSource> source
            )
            where TSource : struct, ISequence<double2x2>
        {
            var func = ValueFunc<ValueSequence<double2x2, TSource>, double2x2>.New<AverageFunc_double2x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double2x2, TSource> source,
            ref NativeArray<double2x2> output
            )
            where TSource : struct, ISequence<double2x2>
        {
            var func = ValueFunc<ValueSequence<double2x2, TSource>, double2x2>.New<AverageFunc_double2x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x2> ScheduleAverage<TSource>(
            this in ValueSequence<double2x2, TSource> source
            )
            where TSource : struct, ISequence<double2x2>
        {
            var func = ValueFunc<ValueSequence<double2x2, TSource>, double2x2>.New<AverageFunc_double2x2<TSource>>();
            return source.Schedule(func);
        }

        public static double2x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double2x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double2x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x2>
        {
            readonly ValueFunc<T, double2x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_double2x2(ValueFunc<T, double2x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double2x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double2x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x2>.New(new AverageSelectorFunc_double2x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x2>.Struct<TSelector> selector,
            ref NativeArray<double2x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x2>.New(new AverageSelectorFunc_double2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x2>.New(new AverageSelectorFunc_double2x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double2x3 Average<TSource>(
            this in ValueSequence<double2x3, TSource> source
            )
            where TSource : struct, ISequence<double2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double2x3<TSource> : IFunc<ValueSequence<double2x3, TSource>, double2x3>
            where TSource : struct, ISequence<double2x3>
        {
            public double2x3 Invoke(ValueSequence<double2x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double2x3 RunAverage<TSource>(
            this in ValueSequence<double2x3, TSource> source
            )
            where TSource : struct, ISequence<double2x3>
        {
            var func = ValueFunc<ValueSequence<double2x3, TSource>, double2x3>.New<AverageFunc_double2x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double2x3, TSource> source,
            ref NativeArray<double2x3> output
            )
            where TSource : struct, ISequence<double2x3>
        {
            var func = ValueFunc<ValueSequence<double2x3, TSource>, double2x3>.New<AverageFunc_double2x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x3> ScheduleAverage<TSource>(
            this in ValueSequence<double2x3, TSource> source
            )
            where TSource : struct, ISequence<double2x3>
        {
            var func = ValueFunc<ValueSequence<double2x3, TSource>, double2x3>.New<AverageFunc_double2x3<TSource>>();
            return source.Schedule(func);
        }

        public static double2x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double2x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double2x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x3>
        {
            readonly ValueFunc<T, double2x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_double2x3(ValueFunc<T, double2x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double2x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double2x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x3>.New(new AverageSelectorFunc_double2x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x3>.Struct<TSelector> selector,
            ref NativeArray<double2x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x3>.New(new AverageSelectorFunc_double2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x3>.New(new AverageSelectorFunc_double2x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double2x4 Average<TSource>(
            this in ValueSequence<double2x4, TSource> source
            )
            where TSource : struct, ISequence<double2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double2x4<TSource> : IFunc<ValueSequence<double2x4, TSource>, double2x4>
            where TSource : struct, ISequence<double2x4>
        {
            public double2x4 Invoke(ValueSequence<double2x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double2x4 RunAverage<TSource>(
            this in ValueSequence<double2x4, TSource> source
            )
            where TSource : struct, ISequence<double2x4>
        {
            var func = ValueFunc<ValueSequence<double2x4, TSource>, double2x4>.New<AverageFunc_double2x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double2x4, TSource> source,
            ref NativeArray<double2x4> output
            )
            where TSource : struct, ISequence<double2x4>
        {
            var func = ValueFunc<ValueSequence<double2x4, TSource>, double2x4>.New<AverageFunc_double2x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x4> ScheduleAverage<TSource>(
            this in ValueSequence<double2x4, TSource> source
            )
            where TSource : struct, ISequence<double2x4>
        {
            var func = ValueFunc<ValueSequence<double2x4, TSource>, double2x4>.New<AverageFunc_double2x4<TSource>>();
            return source.Schedule(func);
        }

        public static double2x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double2x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double2x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double2x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x4>
        {
            readonly ValueFunc<T, double2x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_double2x4(ValueFunc<T, double2x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double2x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double2x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x4>.New(new AverageSelectorFunc_double2x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x4>.Struct<TSelector> selector,
            ref NativeArray<double2x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x4>.New(new AverageSelectorFunc_double2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double2x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double2x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double2x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double2x4>.New(new AverageSelectorFunc_double2x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double3 Average<TSource>(
            this in ValueSequence<double3, TSource> source
            )
            where TSource : struct, ISequence<double3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double3<TSource> : IFunc<ValueSequence<double3, TSource>, double3>
            where TSource : struct, ISequence<double3>
        {
            public double3 Invoke(ValueSequence<double3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double3 RunAverage<TSource>(
            this in ValueSequence<double3, TSource> source
            )
            where TSource : struct, ISequence<double3>
        {
            var func = ValueFunc<ValueSequence<double3, TSource>, double3>.New<AverageFunc_double3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double3, TSource> source,
            ref NativeArray<double3> output
            )
            where TSource : struct, ISequence<double3>
        {
            var func = ValueFunc<ValueSequence<double3, TSource>, double3>.New<AverageFunc_double3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3> ScheduleAverage<TSource>(
            this in ValueSequence<double3, TSource> source
            )
            where TSource : struct, ISequence<double3>
        {
            var func = ValueFunc<ValueSequence<double3, TSource>, double3>.New<AverageFunc_double3<TSource>>();
            return source.Schedule(func);
        }

        public static double3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3>
        {
            readonly ValueFunc<T, double3>.Struct<TSelector> selector;

            public AverageSelectorFunc_double3(ValueFunc<T, double3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3>.New(new AverageSelectorFunc_double3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3>.Struct<TSelector> selector,
            ref NativeArray<double3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3>.New(new AverageSelectorFunc_double3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3>.New(new AverageSelectorFunc_double3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double3x2 Average<TSource>(
            this in ValueSequence<double3x2, TSource> source
            )
            where TSource : struct, ISequence<double3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double3x2<TSource> : IFunc<ValueSequence<double3x2, TSource>, double3x2>
            where TSource : struct, ISequence<double3x2>
        {
            public double3x2 Invoke(ValueSequence<double3x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double3x2 RunAverage<TSource>(
            this in ValueSequence<double3x2, TSource> source
            )
            where TSource : struct, ISequence<double3x2>
        {
            var func = ValueFunc<ValueSequence<double3x2, TSource>, double3x2>.New<AverageFunc_double3x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double3x2, TSource> source,
            ref NativeArray<double3x2> output
            )
            where TSource : struct, ISequence<double3x2>
        {
            var func = ValueFunc<ValueSequence<double3x2, TSource>, double3x2>.New<AverageFunc_double3x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x2> ScheduleAverage<TSource>(
            this in ValueSequence<double3x2, TSource> source
            )
            where TSource : struct, ISequence<double3x2>
        {
            var func = ValueFunc<ValueSequence<double3x2, TSource>, double3x2>.New<AverageFunc_double3x2<TSource>>();
            return source.Schedule(func);
        }

        public static double3x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double3x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double3x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x2>
        {
            readonly ValueFunc<T, double3x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_double3x2(ValueFunc<T, double3x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double3x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double3x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x2>.New(new AverageSelectorFunc_double3x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x2>.Struct<TSelector> selector,
            ref NativeArray<double3x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x2>.New(new AverageSelectorFunc_double3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x2>.New(new AverageSelectorFunc_double3x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double3x3 Average<TSource>(
            this in ValueSequence<double3x3, TSource> source
            )
            where TSource : struct, ISequence<double3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double3x3<TSource> : IFunc<ValueSequence<double3x3, TSource>, double3x3>
            where TSource : struct, ISequence<double3x3>
        {
            public double3x3 Invoke(ValueSequence<double3x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double3x3 RunAverage<TSource>(
            this in ValueSequence<double3x3, TSource> source
            )
            where TSource : struct, ISequence<double3x3>
        {
            var func = ValueFunc<ValueSequence<double3x3, TSource>, double3x3>.New<AverageFunc_double3x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double3x3, TSource> source,
            ref NativeArray<double3x3> output
            )
            where TSource : struct, ISequence<double3x3>
        {
            var func = ValueFunc<ValueSequence<double3x3, TSource>, double3x3>.New<AverageFunc_double3x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x3> ScheduleAverage<TSource>(
            this in ValueSequence<double3x3, TSource> source
            )
            where TSource : struct, ISequence<double3x3>
        {
            var func = ValueFunc<ValueSequence<double3x3, TSource>, double3x3>.New<AverageFunc_double3x3<TSource>>();
            return source.Schedule(func);
        }

        public static double3x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double3x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double3x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x3>
        {
            readonly ValueFunc<T, double3x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_double3x3(ValueFunc<T, double3x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double3x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double3x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x3>.New(new AverageSelectorFunc_double3x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x3>.Struct<TSelector> selector,
            ref NativeArray<double3x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x3>.New(new AverageSelectorFunc_double3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x3>.New(new AverageSelectorFunc_double3x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double3x4 Average<TSource>(
            this in ValueSequence<double3x4, TSource> source
            )
            where TSource : struct, ISequence<double3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double3x4<TSource> : IFunc<ValueSequence<double3x4, TSource>, double3x4>
            where TSource : struct, ISequence<double3x4>
        {
            public double3x4 Invoke(ValueSequence<double3x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double3x4 RunAverage<TSource>(
            this in ValueSequence<double3x4, TSource> source
            )
            where TSource : struct, ISequence<double3x4>
        {
            var func = ValueFunc<ValueSequence<double3x4, TSource>, double3x4>.New<AverageFunc_double3x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double3x4, TSource> source,
            ref NativeArray<double3x4> output
            )
            where TSource : struct, ISequence<double3x4>
        {
            var func = ValueFunc<ValueSequence<double3x4, TSource>, double3x4>.New<AverageFunc_double3x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x4> ScheduleAverage<TSource>(
            this in ValueSequence<double3x4, TSource> source
            )
            where TSource : struct, ISequence<double3x4>
        {
            var func = ValueFunc<ValueSequence<double3x4, TSource>, double3x4>.New<AverageFunc_double3x4<TSource>>();
            return source.Schedule(func);
        }

        public static double3x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double3x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double3x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double3x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x4>
        {
            readonly ValueFunc<T, double3x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_double3x4(ValueFunc<T, double3x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double3x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double3x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x4>.New(new AverageSelectorFunc_double3x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x4>.Struct<TSelector> selector,
            ref NativeArray<double3x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x4>.New(new AverageSelectorFunc_double3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double3x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double3x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double3x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double3x4>.New(new AverageSelectorFunc_double3x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double4 Average<TSource>(
            this in ValueSequence<double4, TSource> source
            )
            where TSource : struct, ISequence<double4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double4<TSource> : IFunc<ValueSequence<double4, TSource>, double4>
            where TSource : struct, ISequence<double4>
        {
            public double4 Invoke(ValueSequence<double4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double4 RunAverage<TSource>(
            this in ValueSequence<double4, TSource> source
            )
            where TSource : struct, ISequence<double4>
        {
            var func = ValueFunc<ValueSequence<double4, TSource>, double4>.New<AverageFunc_double4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double4, TSource> source,
            ref NativeArray<double4> output
            )
            where TSource : struct, ISequence<double4>
        {
            var func = ValueFunc<ValueSequence<double4, TSource>, double4>.New<AverageFunc_double4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4> ScheduleAverage<TSource>(
            this in ValueSequence<double4, TSource> source
            )
            where TSource : struct, ISequence<double4>
        {
            var func = ValueFunc<ValueSequence<double4, TSource>, double4>.New<AverageFunc_double4<TSource>>();
            return source.Schedule(func);
        }

        public static double4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4>
        {
            readonly ValueFunc<T, double4>.Struct<TSelector> selector;

            public AverageSelectorFunc_double4(ValueFunc<T, double4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4>.New(new AverageSelectorFunc_double4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4>.Struct<TSelector> selector,
            ref NativeArray<double4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4>.New(new AverageSelectorFunc_double4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4>.New(new AverageSelectorFunc_double4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double4x2 Average<TSource>(
            this in ValueSequence<double4x2, TSource> source
            )
            where TSource : struct, ISequence<double4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x2 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double4x2<TSource> : IFunc<ValueSequence<double4x2, TSource>, double4x2>
            where TSource : struct, ISequence<double4x2>
        {
            public double4x2 Invoke(ValueSequence<double4x2, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double4x2 RunAverage<TSource>(
            this in ValueSequence<double4x2, TSource> source
            )
            where TSource : struct, ISequence<double4x2>
        {
            var func = ValueFunc<ValueSequence<double4x2, TSource>, double4x2>.New<AverageFunc_double4x2<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double4x2, TSource> source,
            ref NativeArray<double4x2> output
            )
            where TSource : struct, ISequence<double4x2>
        {
            var func = ValueFunc<ValueSequence<double4x2, TSource>, double4x2>.New<AverageFunc_double4x2<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x2> ScheduleAverage<TSource>(
            this in ValueSequence<double4x2, TSource> source
            )
            where TSource : struct, ISequence<double4x2>
        {
            var func = ValueFunc<ValueSequence<double4x2, TSource>, double4x2>.New<AverageFunc_double4x2<TSource>>();
            return source.Schedule(func);
        }

        public static double4x2 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x2>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x2 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double4x2<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double4x2>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x2>
        {
            readonly ValueFunc<T, double4x2>.Struct<TSelector> selector;

            public AverageSelectorFunc_double4x2(ValueFunc<T, double4x2>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double4x2 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double4x2 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x2>.New(new AverageSelectorFunc_double4x2<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x2>.Struct<TSelector> selector,
            ref NativeArray<double4x2> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x2>.New(new AverageSelectorFunc_double4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x2> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x2>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x2>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x2>.New(new AverageSelectorFunc_double4x2<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double4x3 Average<TSource>(
            this in ValueSequence<double4x3, TSource> source
            )
            where TSource : struct, ISequence<double4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x3 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double4x3<TSource> : IFunc<ValueSequence<double4x3, TSource>, double4x3>
            where TSource : struct, ISequence<double4x3>
        {
            public double4x3 Invoke(ValueSequence<double4x3, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double4x3 RunAverage<TSource>(
            this in ValueSequence<double4x3, TSource> source
            )
            where TSource : struct, ISequence<double4x3>
        {
            var func = ValueFunc<ValueSequence<double4x3, TSource>, double4x3>.New<AverageFunc_double4x3<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double4x3, TSource> source,
            ref NativeArray<double4x3> output
            )
            where TSource : struct, ISequence<double4x3>
        {
            var func = ValueFunc<ValueSequence<double4x3, TSource>, double4x3>.New<AverageFunc_double4x3<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x3> ScheduleAverage<TSource>(
            this in ValueSequence<double4x3, TSource> source
            )
            where TSource : struct, ISequence<double4x3>
        {
            var func = ValueFunc<ValueSequence<double4x3, TSource>, double4x3>.New<AverageFunc_double4x3<TSource>>();
            return source.Schedule(func);
        }

        public static double4x3 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x3>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x3 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double4x3<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double4x3>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x3>
        {
            readonly ValueFunc<T, double4x3>.Struct<TSelector> selector;

            public AverageSelectorFunc_double4x3(ValueFunc<T, double4x3>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double4x3 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double4x3 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x3>.New(new AverageSelectorFunc_double4x3<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x3>.Struct<TSelector> selector,
            ref NativeArray<double4x3> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x3>.New(new AverageSelectorFunc_double4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x3> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x3>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x3>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x3>.New(new AverageSelectorFunc_double4x3<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


        public static double4x4 Average<TSource>(
            this in ValueSequence<double4x4, TSource> source
            )
            where TSource : struct, ISequence<double4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x4 sum = srcList[0];
            for (var i = 1; i < srcList.Length; i++)
                sum += srcList[i];
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageFunc_double4x4<TSource> : IFunc<ValueSequence<double4x4, TSource>, double4x4>
            where TSource : struct, ISequence<double4x4>
        {
            public double4x4 Invoke(ValueSequence<double4x4, TSource> seq)
            {
                return seq.Average();
            }
        }

        public static double4x4 RunAverage<TSource>(
            this in ValueSequence<double4x4, TSource> source
            )
            where TSource : struct, ISequence<double4x4>
        {
            var func = ValueFunc<ValueSequence<double4x4, TSource>, double4x4>.New<AverageFunc_double4x4<TSource>>();
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<TSource>(
            this in ValueSequence<double4x4, TSource> source,
            ref NativeArray<double4x4> output
            )
            where TSource : struct, ISequence<double4x4>
        {
            var func = ValueFunc<ValueSequence<double4x4, TSource>, double4x4>.New<AverageFunc_double4x4<TSource>>();
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x4> ScheduleAverage<TSource>(
            this in ValueSequence<double4x4, TSource> source
            )
            where TSource : struct, ISequence<double4x4>
        {
            var func = ValueFunc<ValueSequence<double4x4, TSource>, double4x4>.New<AverageFunc_double4x4<TSource>>();
            return source.Schedule(func);
        }

        public static double4x4 Average<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x4>
        {
            var srcList = source.ToNativeList(Allocator.Temp);
            if (srcList.Length == 0)
            {
                srcList.Dispose();
                throw Error.NoElements();
            }
            double4x4 sum = selector.Invoke(srcList[0]);
            for (var i = 1; i < srcList.Length; i++)
                sum += selector.Invoke(srcList[i]);
            var result = sum / srcList.Length;
            srcList.Dispose();
            return result;
        }

        public struct AverageSelectorFunc_double4x4<T, TSource, TSelector>
            : IFunc<ValueSequence<T, TSource>, double4x4>
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x4>
        {
            readonly ValueFunc<T, double4x4>.Struct<TSelector> selector;

            public AverageSelectorFunc_double4x4(ValueFunc<T, double4x4>.Struct<TSelector> selector)
            {
                this.selector = selector;
            }

            public double4x4 Invoke(ValueSequence<T, TSource> seq)
            {
                return seq.Average(selector);
            }
        }

        public static double4x4 RunAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x4>.New(new AverageSelectorFunc_double4x4<T, TSource, TSelector>(selector));
            return source.Run(func);
        }

        public static JobHandle ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x4>.Struct<TSelector> selector,
            ref NativeArray<double4x4> output
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x4>.New(new AverageSelectorFunc_double4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func, ref output);
        }

        public static JobHandle<double4x4> ScheduleAverage<T, TSource, TSelector>(
            this in ValueSequence<T, TSource> source,
            in ValueFunc<T, double4x4>.Struct<TSelector> selector
            )
            where T : struct
            where TSource : struct, ISequence<T>
            where TSelector : struct, IFunc<T, double4x4>
        {
            var func = ValueFunc<ValueSequence<T, TSource>, double4x4>.New(new AverageSelectorFunc_double4x4<T, TSource, TSelector>(selector));
            return source.Schedule(func);
        }


    }
}
